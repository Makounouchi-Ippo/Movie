{"ast":null,"code":"var _jsxFileName = \"/Users/mehel-ka/Desktop/Hypertube/src/container/Chat/Chat.jsx\";\nimport React, { useEffect, useState } from 'react'; // import { useSelector, useDispatch } from 'react-redux';\n// import * as actions from '../../store/actions/index';\n// import {Modal} from 'react-bootstrap'\n\nimport './Chat.css';\nimport N from '../../assets/images/netflix-logo.png'; // import { Widget } from 'react-chat-widget';\n\nimport io from 'socket.io-client';\nimport { Widget } from 'react-chat-widget';\nimport 'react-chat-widget/lib/styles.css';\n\nconst Chat = () => {\n  const [msg, setMsg] = useState(''); // const [room,setRoom] = useState('')\n\n  useEffect(() => {\n    //instauration de la connexion\n    const socket = io(\"http://localhost:3000\");\n    socket.emit('chat message', msg => {\n      console.log('message: ' + msg);\n    }); // console.log(socket)\n    // return () => {\n    //         socket.emit('disconnect')\n    //         socket.off();\n    // }\n    //     // else if (localStorage.getItem('leaveCommunity')){\n    //     //     socket.emit('LeaveCommunity')\n    //     //     socket.off();\n    //     // }\n    //}\n  }, []); // const userMessage = () => {\n  //     setUser()\n  //   };\n\n  const handleNewUserMessage = newMessage => {\n    console.log(`New message incoming! ${newMessage}`);\n    setMsg(newMessage); // Now send the message throught the backend API\n  };\n\n  let chat;\n\n  if (localStorage.hasOwnProperty('toolbar')) {\n    chat = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(Widget, {\n      title: \"Netflix Chat\",\n      subtitle: 'Profiter',\n      handleNewUserMessage: handleNewUserMessage,\n      senderPlaceHolder: \"ecrire un message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, chat);\n};\n\nexport default Chat;","map":{"version":3,"sources":["/Users/mehel-ka/Desktop/Hypertube/src/container/Chat/Chat.jsx"],"names":["React","useEffect","useState","N","io","Widget","Chat","msg","setMsg","socket","emit","console","log","handleNewUserMessage","newMessage","chat","localStorage","hasOwnProperty"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C,C,CACA;AACA;AACA;;AACA,OAAO,YAAP;AACA,OAAOC,CAAP,MAAc,sCAAd,C,CACA;;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,OAAO,kCAAP;;AAIA,MAAMC,IAAI,GAAG,MAAM;AAGd,QAAM,CAACC,GAAD,EAAKC,MAAL,IAAeN,QAAQ,CAAC,EAAD,CAA7B,CAHc,CAIf;;AAEAD,EAAAA,SAAS,CAAE,MAAI;AACX;AACC,UAAMQ,MAAM,GAAGL,EAAE,CAAC,uBAAD,CAAjB;AACAK,IAAAA,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA6BH,GAAD,IAAS;AAClCI,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAcL,GAA1B;AACD,KAFF,EAHU,CAMX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAED;AACF,GAjBQ,EAiBP,EAjBO,CAAT,CANe,CAyBf;AACA;AAEA;;AAGA,QAAMM,oBAAoB,GAAIC,UAAD,IAAgB;AACzCH,IAAAA,OAAO,CAACC,GAAR,CAAa,yBAAwBE,UAAW,EAAhD;AACAN,IAAAA,MAAM,CAACM,UAAD,CAAN,CAFyC,CAGzC;AAED,GALH;;AAOA,MAAIC,IAAJ;;AACA,MAAIC,YAAY,CAACC,cAAb,CAA4B,SAA5B,CAAJ,EAA2C;AACvCF,IAAAA,IAAI,gBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACT,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,cAAd;AAA8B,MAAA,QAAQ,EAAE,UAAxC;AAAoD,MAAA,oBAAoB,EAAEF,oBAA1E;AAAgG,MAAA,iBAAiB,EAAC,mBAAlH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADS,CAAT;AAIH;;AAED,sBACA,0CACIE,IADJ,CADA;AAMH,CApDD;;AAwDA,eAAeT,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\n// import { useSelector, useDispatch } from 'react-redux';\n// import * as actions from '../../store/actions/index';\n// import {Modal} from 'react-bootstrap'\nimport './Chat.css';\nimport N from '../../assets/images/netflix-logo.png';\n// import { Widget } from 'react-chat-widget';\nimport io from 'socket.io-client'\nimport { Widget } from 'react-chat-widget';\nimport 'react-chat-widget/lib/styles.css';\n\n\n\nconst Chat = () => {\n\n \n     const [msg,setMsg] = useState('')\n    // const [room,setRoom] = useState('')\n\n    useEffect (()=>{\n        //instauration de la connexion\n         const socket = io(\"http://localhost:3000\")\n         socket.emit('chat message', (msg) => {\n            console.log('message: ' + msg);\n          });\n        // console.log(socket)\n        // return () => {\n        //         socket.emit('disconnect')\n        //         socket.off();\n        // }\n        //     // else if (localStorage.getItem('leaveCommunity')){\n        //     //     socket.emit('LeaveCommunity')\n        //     //     socket.off();\n        //     // }\n            \n       //}\n    },[])\n\n    // const userMessage = () => {\n    //     setUser()\n  \n    //   };\n\n  \n    const handleNewUserMessage = (newMessage) => {\n        console.log(`New message incoming! ${newMessage}`);\n        setMsg(newMessage)\n        // Now send the message throught the backend API\n        \n      };\n\n    let chat;\n    if (localStorage.hasOwnProperty('toolbar')){\n        chat = ( <div >\n        <Widget title=\"Netflix Chat\"  subtitle={'Profiter'} handleNewUserMessage={handleNewUserMessage} senderPlaceHolder=\"ecrire un message\" />\n        \n         </div>)\n    }\n\n    return(\n    <>\n       {chat}\n    </>\n    )\n\n}\n\n\n\nexport default Chat;"]},"metadata":{},"sourceType":"module"}