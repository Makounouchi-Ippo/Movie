{"ast":null,"code":"var _jsxFileName = \"/Users/mehel-ka/Desktop/Hypertube/src/container/Chat/Chat.jsx\";\nimport React, { useEffect, useState } from 'react'; // import { useSelector, useDispatch } from 'react-redux';\n// import * as actions from '../../store/actions/index';\n// import {Modal} from 'react-bootstrap'\n\nimport './Chat.css';\nimport N from '../../assets/images/netflix-logo.png'; // import { Widget } from 'react-chat-widget';\n\nimport io from 'socket.io-client';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Widget, addResponseMessage } from 'react-chat-widget';\nimport 'react-chat-widget/lib/styles.css';\nimport axios from 'axios';\nconst socket = io(\"http://localhost:3000\");\n\nconst Chat = () => {\n  const [form, setForm] = useState(false);\n  const [social, setSocial] = useState(false);\n  const chats = useSelector(state => state.auth.chat);\n  useEffect(() => {\n    console.log('didMount dans CHAAAT--->');\n    axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/social.json/`).then(response => {\n      setSocial(response.data.newsletter);\n    }).catch(error => {\n      console.log('FORM', error);\n    });\n    axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/user.json/`).then(response => {\n      setForm(response.data.name);\n    }).catch(error => {\n      console.log('FORM', error);\n    });\n  });\n  useEffect(() => {\n    socket.on('msg serveur:', msg => {\n      console.log('msggg recu du serveur--->', msg);\n      console.log(socket);\n      addResponseMessage(msg);\n    });\n  });\n\n  const handleNewUserMessage = newMessage => {\n    socket.emit('msg envoyer :', localStorage.getItem('name'), newMessage);\n    console.log(`New message incoming! ${newMessage}`);\n  };\n\n  let chat;\n\n  if (localStorage.hasOwnProperty('toolbar') && form === true && social === true) {\n    chat = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Chat\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(Widget, {\n      title: \"Netflix Chat\",\n      subtitle: 'Profiter',\n      handleNewUserMessage: handleNewUserMessage,\n      senderPlaceHolder: \"ecrire un message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, chat);\n};\n\nexport default Chat;","map":{"version":3,"sources":["/Users/mehel-ka/Desktop/Hypertube/src/container/Chat/Chat.jsx"],"names":["React","useEffect","useState","N","io","useDispatch","useSelector","Widget","addResponseMessage","axios","socket","Chat","form","setForm","social","setSocial","chats","state","auth","chat","console","log","get","localStorage","getItem","then","response","data","newsletter","catch","error","name","on","msg","handleNewUserMessage","newMessage","emit","hasOwnProperty"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C,C,CACA;AACA;AACA;;AACA,OAAO,YAAP;AACA,OAAOC,CAAP,MAAc,sCAAd,C,CACA;;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,SAASC,MAAT,EAAgBC,kBAAhB,QAAyC,mBAAzC;AACA,OAAO,kCAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,MAAMC,MAAM,GAAGN,EAAE,CAAC,uBAAD,CAAjB;;AAEA,MAAMO,IAAI,GAAG,MAAM;AAEf,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAiBX,QAAQ,CAAC,KAAD,CAA/B;AACA,QAAM,CAACY,MAAD,EAAQC,SAAR,IAAqBb,QAAQ,CAAC,KAAD,CAAnC;AACA,QAAMc,KAAK,GAAGV,WAAW,CAACW,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWC,IAArB,CAAzB;AAIAlB,EAAAA,SAAS,CAAC,MAAI;AACVmB,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACAZ,IAAAA,KAAK,CAACa,GAAN,CAAW,uCAAsCC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA2B,eAA5E,EACCC,IADD,CACMC,QAAQ,IAAI;AAACX,MAAAA,SAAS,CAACW,QAAQ,CAACC,IAAT,CAAcC,UAAf,CAAT;AAAqC,KADxD,EAECC,KAFD,CAEOC,KAAK,IAAI;AAAEV,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBS,KAAnB;AAA0B,KAF5C;AAGArB,IAAAA,KAAK,CAACa,GAAN,CAAW,uCAAsCC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA2B,aAA5E,EACCC,IADD,CACMC,QAAQ,IAAI;AAAEb,MAAAA,OAAO,CAACa,QAAQ,CAACC,IAAT,CAAcI,IAAf,CAAP;AAA6B,KADjD,EAECF,KAFD,CAEOC,KAAK,IAAI;AAAEV,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBS,KAAnB;AAA0B,KAF5C;AAGH,GARQ,CAAT;AAUA7B,EAAAA,SAAS,CAAE,MAAI;AACXS,IAAAA,MAAM,CAACsB,EAAP,CAAU,cAAV,EAAyBC,GAAG,IAAG;AAC3Bb,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAwCY,GAAxC;AACAb,MAAAA,OAAO,CAACC,GAAR,CAAYX,MAAZ;AACAF,MAAAA,kBAAkB,CAACyB,GAAD,CAAlB;AACH,KAJD;AAMH,GAPQ,CAAT;;AASA,QAAMC,oBAAoB,GAAIC,UAAD,IAAgB;AACzCzB,IAAAA,MAAM,CAAC0B,IAAP,CAAY,eAAZ,EAA4Bb,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA5B,EAA0DW,UAA1D;AACAf,IAAAA,OAAO,CAACC,GAAR,CAAa,yBAAwBc,UAAW,EAAhD;AACD,GAHH;;AAKA,MAAIhB,IAAJ;;AACA,MAAII,YAAY,CAACc,cAAb,CAA4B,SAA5B,KAA0CzB,IAAI,KAAK,IAAnD,IAA2DE,MAAM,KAAK,IAA1E,EAA+E;AAC3EK,IAAAA,IAAI,gBAAK;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACT,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,cAAd;AAA8B,MAAA,QAAQ,EAAE,UAAxC;AAAoD,MAAA,oBAAoB,EAAEe,oBAA1E;AAAiG,MAAA,iBAAiB,EAAC,mBAAnH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADS,CAAT;AAIH;;AAED,sBACA,0CACIf,IADJ,CADA;AAMH,CA9CD;;AAkDA,eAAeR,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\n// import { useSelector, useDispatch } from 'react-redux';\n// import * as actions from '../../store/actions/index';\n// import {Modal} from 'react-bootstrap'\nimport './Chat.css';\nimport N from '../../assets/images/netflix-logo.png';\n// import { Widget } from 'react-chat-widget';\nimport io from 'socket.io-client'\nimport {useDispatch, useSelector} from 'react-redux';\nimport { Widget,addResponseMessage} from 'react-chat-widget';\nimport 'react-chat-widget/lib/styles.css';\nimport axios from 'axios'\nconst socket = io(\"http://localhost:3000\")\n\nconst Chat = () => {\n\n    const [form,setForm] = useState(false)\n    const [social,setSocial] = useState(false)\n    const chats = useSelector(state => state.auth.chat)\n    \n\n\n    useEffect(()=>{\n        console.log('didMount dans CHAAAT--->')\n        axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/social.json/`)\n        .then(response => {setSocial(response.data.newsletter);})\n        .catch(error => { console.log('FORM',error)}) \n        axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/user.json/`)\n        .then(response => { setForm(response.data.name);})\n        .catch(error => { console.log('FORM',error)})\n    })\n\n    useEffect (()=>{\n        socket.on('msg serveur:',msg=> {\n            console.log('msggg recu du serveur--->',msg) \n            console.log(socket)\n            addResponseMessage(msg)\n        })\n               \n    })\n\n    const handleNewUserMessage = (newMessage) => {\n        socket.emit('msg envoyer :',localStorage.getItem('name') ,newMessage)\n        console.log(`New message incoming! ${newMessage}`);\n      };\n      \n    let chat;\n    if (localStorage.hasOwnProperty('toolbar') && form === true && social === true){\n        chat = ( <div className=\"Chat\">\n        <Widget title=\"Netflix Chat\"  subtitle={'Profiter'} handleNewUserMessage={handleNewUserMessage}  senderPlaceHolder=\"ecrire un message\" />\n        \n         </div>)\n    }\n\n    return(\n    <>\n       {chat}\n    </>\n    )\n\n}\n\n\n\nexport default Chat;"]},"metadata":{},"sourceType":"module"}