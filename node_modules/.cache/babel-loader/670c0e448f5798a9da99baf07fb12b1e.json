{"ast":null,"code":"var _jsxFileName = \"/Users/mehel-ka/Desktop/Hypertube/src/container/layout/Layout.js\";\nimport React, { Component } from 'react';\nimport Toolbar from './Toolbar/Toolbar';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport * as actions from '../../store/actions/index';\nimport axios from 'axios';\nimport Chat from '../Chat/Chat';\nimport AOS from 'aos';\n\nclass Layout extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      open: false\n    };\n\n    this.componentDidMount = () => {\n      AOS.init();\n\n      if (!localStorage.getItem('chatS')) {\n        axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/social.json/`).then(response => {\n          this.props.showChatS();\n          localStorage.setItem('chatS', true);\n          console.log('SOCAILLL==', response.data.social);\n        }).catch(error => {\n          console.log('FORM', error);\n        });\n      }\n\n      if (!localStorage.getItem('chatF')) {\n        axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/user.json/`).then(response => {\n          if (response.data.name) {\n            this.props.showChatF();\n            localStorage.setItem('chatF', true);\n          }\n\n          console.log('PSGGGG->>>>', response.data.name);\n        }).catch(err => {});\n      }\n    };\n\n    this.displaySidebar = () => this.setState(prevstate => {\n      return {\n        open: !prevstate.open\n      };\n    });\n  }\n\n  render() {\n    let show = localStorage.hasOwnProperty('toolbar') || localStorage.hasOwnProperty('token') === false;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, show && /*#__PURE__*/React.createElement(Toolbar, {\n      open: this.displaySidebar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 26\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, this.props.children), show && /*#__PURE__*/React.createElement(\"footer\", {\n      style: {\n        bottom: '10px',\n        zIndex: '100'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(Chat, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    toolbar: state.auth.toolbar\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    showChatF: () => dispatch(actions.showChat('showChatF')),\n    showChatS: () => dispatch(actions.showChat('showChatS'))\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Layout));","map":{"version":3,"sources":["/Users/mehel-ka/Desktop/Hypertube/src/container/layout/Layout.js"],"names":["React","Component","Toolbar","connect","withRouter","actions","axios","Chat","AOS","Layout","state","open","componentDidMount","init","localStorage","getItem","get","then","response","props","showChatS","setItem","console","log","data","social","catch","error","name","showChatF","err","displaySidebar","setState","prevstate","render","show","hasOwnProperty","children","bottom","zIndex","mapStateToProps","toolbar","auth","mapDispatchToProps","dispatch","showChat"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Toolbar from './Toolbar/Toolbar'\nimport { connect } from 'react-redux';\nimport {withRouter} from 'react-router-dom';\nimport * as actions from '../../store/actions/index';\nimport axios from 'axios'\nimport Chat from '../Chat/Chat'\nimport AOS from 'aos'\n\nclass Layout extends Component {\n    state= {\n        open: false,\n    }\n\n    componentDidMount =()=>{\n        AOS.init()\n        if (!localStorage.getItem('chatS')){\n            axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/social.json/`)\n            .then(response => {\n                this.props.showChatS()\n                localStorage.setItem('chatS',true)\n                console.log('SOCAILLL==',response.data.social);\n            })\n            .catch(error => { console.log('FORM',error)}) \n        }\n        if (!localStorage.getItem('chatF')){\n            axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/user.json/`)\n            .then(response => {\n                if (response.data.name){\n                    this.props.showChatF()\n                    localStorage.setItem('chatF',true)\n                }\n                console.log('PSGGGG->>>>',response.data.name)})\n            .catch(err => {}) \n        }\n    }\n    displaySidebar = () => (\n        this.setState((prevstate) =>{\n          return {open: !prevstate.open}\n        })\n    )\n\n    render() {\n        let show = (localStorage.hasOwnProperty('toolbar') || localStorage.hasOwnProperty('token')===false)\n       \n        return (\n            <React.Fragment>\n               { show && <Toolbar open={this.displaySidebar}/> } \n                <main>\n                    {this.props.children}\n                </main>\n               { show && <footer style={{bottom:'10px',zIndex:'100'}}>   \n                    <Chat/>\n                    </footer>} \n            </React.Fragment>\n        )\n    }\n}\n\n\nconst mapStateToProps = state => {\n    return {\n      toolbar: state.auth.toolbar\n    };\n  };\nconst mapDispatchToProps = dispatch => {\n    return {\n     showChatF: () => dispatch(actions.showChat('showChatF')),\n     showChatS: () => dispatch(actions.showChat('showChatS'))\n    };\n  };\n  \n  export default withRouter(connect(mapStateToProps,mapDispatchToProps) (Layout)); \n  "]},"metadata":{},"sourceType":"module"}